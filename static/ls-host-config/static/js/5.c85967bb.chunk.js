(window["webpackJsonppurple-react-free"]=window["webpackJsonppurple-react-free"]||[]).push([[5],{121:function(e,a,t){"use strict";var r=t(127),s=t.n(r).a.create({baseURL:"http://www.lengshuotech.com:3000/api/",timeout:1e4,headers:{"ls-token":"1234567890abcdef"}});a.a=s},124:function(e,a,t){"use strict";t.d(a,"a",(function(){return r}));var r=function(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(e){return(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)}))}},138:function(e,a,t){"use strict";var r=t(1),s=t(2),l=t(4),c=t.n(l),i=t(0),o=t.n(i),n=(t(86),t(3)),m=t.n(n),d=["as","className","type","tooltip"],u={type:m.a.string,tooltip:m.a.bool,as:m.a.elementType},b=o.a.forwardRef((function(e,a){var t=e.as,l=void 0===t?"div":t,i=e.className,n=e.type,m=void 0===n?"valid":n,u=e.tooltip,b=void 0!==u&&u,f=Object(s.a)(e,d);return o.a.createElement(l,Object(r.a)({},f,{ref:a,className:c()(i,m+"-"+(b?"tooltip":"feedback"))}))}));b.displayName="Feedback",b.propTypes=u;var f=b,v=o.a.createContext({controlId:void 0}),p=t(5),O=["id","bsPrefix","bsCustomPrefix","className","type","isValid","isInvalid","isStatic","as"],j=o.a.forwardRef((function(e,a){var t=e.id,l=e.bsPrefix,n=e.bsCustomPrefix,m=e.className,d=e.type,u=void 0===d?"checkbox":d,b=e.isValid,f=void 0!==b&&b,j=e.isInvalid,h=void 0!==j&&j,N=e.isStatic,y=e.as,x=void 0===y?"input":y,g=Object(s.a)(e,O),E=Object(i.useContext)(v),w=E.controlId,P=E.custom?[n,"custom-control-input"]:[l,"form-check-input"],C=P[0],I=P[1];return l=Object(p.a)(C,I),o.a.createElement(x,Object(r.a)({},g,{ref:a,type:u,id:t||w,className:c()(m,l,f&&"is-valid",h&&"is-invalid",N&&"position-static")}))}));j.displayName="FormCheckInput";var h=j,N=["bsPrefix","bsCustomPrefix","className","htmlFor"],y=o.a.forwardRef((function(e,a){var t=e.bsPrefix,l=e.bsCustomPrefix,n=e.className,m=e.htmlFor,d=Object(s.a)(e,N),u=Object(i.useContext)(v),b=u.controlId,f=u.custom?[l,"custom-control-label"]:[t,"form-check-label"],O=f[0],j=f[1];return t=Object(p.a)(O,j),o.a.createElement("label",Object(r.a)({},d,{ref:a,htmlFor:m||b,className:c()(n,t)}))}));y.displayName="FormCheckLabel";var x=y,g=["id","bsPrefix","bsCustomPrefix","inline","disabled","isValid","isInvalid","feedbackTooltip","feedback","className","style","title","type","label","children","custom","as"],E=o.a.forwardRef((function(e,a){var t=e.id,l=e.bsPrefix,n=e.bsCustomPrefix,m=e.inline,d=void 0!==m&&m,u=e.disabled,b=void 0!==u&&u,O=e.isValid,j=void 0!==O&&O,N=e.isInvalid,y=void 0!==N&&N,E=e.feedbackTooltip,w=void 0!==E&&E,P=e.feedback,C=e.className,I=e.style,F=e.title,S=void 0===F?"":F,k=e.type,_=void 0===k?"checkbox":k,R=e.label,T=e.children,V=e.custom,L=e.as,M=void 0===L?"input":L,G=Object(s.a)(e,g),z="switch"===_||V,A=z?[n,"custom-control"]:[l,"form-check"],D=A[0],U=A[1];l=Object(p.a)(D,U);var q=Object(i.useContext)(v).controlId,J=Object(i.useMemo)((function(){return{controlId:t||q,custom:z}}),[q,z,t]),H=z||null!=R&&!1!==R&&!T,K=o.a.createElement(h,Object(r.a)({},G,{type:"switch"===_?"checkbox":_,ref:a,isValid:j,isInvalid:y,isStatic:!H,disabled:b,as:M}));return o.a.createElement(v.Provider,{value:J},o.a.createElement("div",{style:I,className:c()(C,l,z&&"custom-"+_,d&&l+"-inline")},T||o.a.createElement(o.a.Fragment,null,K,H&&o.a.createElement(x,{title:S},R),(j||y)&&o.a.createElement(f,{type:j?"valid":"invalid",tooltip:w},P))))}));E.displayName="FormCheck",E.Input=h,E.Label=x;var w=E,P=["id","bsPrefix","bsCustomPrefix","className","isValid","isInvalid","lang","as"],C=o.a.forwardRef((function(e,a){var t=e.id,l=e.bsPrefix,n=e.bsCustomPrefix,m=e.className,d=e.isValid,u=e.isInvalid,b=e.lang,f=e.as,O=void 0===f?"input":f,j=Object(s.a)(e,P),h=Object(i.useContext)(v),N=h.controlId,y=h.custom?[n,"custom-file-input"]:[l,"form-control-file"],x=y[0],g=y[1];return l=Object(p.a)(x,g),o.a.createElement(O,Object(r.a)({},j,{ref:a,id:t||N,type:"file",lang:b,className:c()(m,l,d&&"is-valid",u&&"is-invalid")}))}));C.displayName="FormFileInput";var I=C,F=["bsPrefix","bsCustomPrefix","className","htmlFor"],S=o.a.forwardRef((function(e,a){var t=e.bsPrefix,l=e.bsCustomPrefix,n=e.className,m=e.htmlFor,d=Object(s.a)(e,F),u=Object(i.useContext)(v),b=u.controlId,f=u.custom?[l,"custom-file-label"]:[t,"form-file-label"],O=f[0],j=f[1];return t=Object(p.a)(O,j),o.a.createElement("label",Object(r.a)({},d,{ref:a,htmlFor:m||b,className:c()(n,t),"data-browse":d["data-browse"]}))}));S.displayName="FormFileLabel";var k=S,_=["id","bsPrefix","bsCustomPrefix","disabled","isValid","isInvalid","feedbackTooltip","feedback","className","style","label","children","custom","lang","data-browse","as","inputAs"],R=o.a.forwardRef((function(e,a){var t=e.id,l=e.bsPrefix,n=e.bsCustomPrefix,m=e.disabled,d=void 0!==m&&m,u=e.isValid,b=void 0!==u&&u,O=e.isInvalid,j=void 0!==O&&O,h=e.feedbackTooltip,N=void 0!==h&&h,y=e.feedback,x=e.className,g=e.style,E=e.label,w=e.children,P=e.custom,C=e.lang,F=e["data-browse"],S=e.as,R=void 0===S?"div":S,T=e.inputAs,V=void 0===T?"input":T,L=Object(s.a)(e,_),M=P?[n,"custom"]:[l,"form-file"],G=M[0],z=M[1];l=Object(p.a)(G,z);var A=Object(i.useContext)(v).controlId,D=Object(i.useMemo)((function(){return{controlId:t||A,custom:P}}),[A,P,t]),U=null!=E&&!1!==E&&!w,q=o.a.createElement(I,Object(r.a)({},L,{ref:a,isValid:b,isInvalid:j,disabled:d,as:V,lang:C}));return o.a.createElement(v.Provider,{value:D},o.a.createElement(R,{style:g,className:c()(x,l,P&&"custom-file")},w||o.a.createElement(o.a.Fragment,null,P?o.a.createElement(o.a.Fragment,null,q,U&&o.a.createElement(k,{"data-browse":F},E)):o.a.createElement(o.a.Fragment,null,U&&o.a.createElement(k,null,E),q),(b||j)&&o.a.createElement(f,{type:b?"valid":"invalid",tooltip:N},y))))}));R.displayName="FormFile",R.Input=I,R.Label=k;var T=R,V=(t(43),["bsPrefix","bsCustomPrefix","type","size","htmlSize","id","className","isValid","isInvalid","plaintext","readOnly","custom","as"]),L=o.a.forwardRef((function(e,a){var t,l,n=e.bsPrefix,m=e.bsCustomPrefix,d=e.type,u=e.size,b=e.htmlSize,f=e.id,O=e.className,j=e.isValid,h=void 0!==j&&j,N=e.isInvalid,y=void 0!==N&&N,x=e.plaintext,g=e.readOnly,E=e.custom,w=e.as,P=void 0===w?"input":w,C=Object(s.a)(e,V),I=Object(i.useContext)(v).controlId,F=E?[m,"custom"]:[n,"form-control"],S=F[0],k=F[1];if(n=Object(p.a)(S,k),x)(l={})[n+"-plaintext"]=!0,t=l;else if("file"===d){var _;(_={})[n+"-file"]=!0,t=_}else if("range"===d){var R;(R={})[n+"-range"]=!0,t=R}else if("select"===P&&E){var T;(T={})[n+"-select"]=!0,T[n+"-select-"+u]=u,t=T}else{var L;(L={})[n]=!0,L[n+"-"+u]=u,t=L}return o.a.createElement(P,Object(r.a)({},C,{type:d,size:b,ref:a,readOnly:g,id:f||I,className:c()(O,t,h&&"is-valid",y&&"is-invalid")}))}));L.displayName="FormControl";var M=Object.assign(L,{Feedback:f}),G=["bsPrefix","className","children","controlId","as"],z=o.a.forwardRef((function(e,a){var t=e.bsPrefix,l=e.className,n=e.children,m=e.controlId,d=e.as,u=void 0===d?"div":d,b=Object(s.a)(e,G);t=Object(p.a)(t,"form-group");var f=Object(i.useMemo)((function(){return{controlId:m}}),[m]);return o.a.createElement(v.Provider,{value:f},o.a.createElement(u,Object(r.a)({},b,{ref:a,className:c()(l,t)}),n))}));z.displayName="FormGroup";var A=z,D=["bsPrefix","className","as"],U=["xl","lg","md","sm","xs"],q=o.a.forwardRef((function(e,a){var t=e.bsPrefix,l=e.className,i=e.as,n=void 0===i?"div":i,m=Object(s.a)(e,D),d=Object(p.a)(t,"col"),u=[],b=[];return U.forEach((function(e){var a,t,r,s=m[e];if(delete m[e],"object"===typeof s&&null!=s){var l=s.span;a=void 0===l||l,t=s.offset,r=s.order}else a=s;var c="xs"!==e?"-"+e:"";a&&u.push(!0===a?""+d+c:""+d+c+"-"+a),null!=r&&b.push("order"+c+"-"+r),null!=t&&b.push("offset"+c+"-"+t)})),u.length||u.push(d),o.a.createElement(n,Object(r.a)({},m,{ref:a,className:c.a.apply(void 0,[l].concat(u,b))}))}));q.displayName="Col";var J=q,H=["as","bsPrefix","column","srOnly","className","htmlFor"],K=o.a.forwardRef((function(e,a){var t=e.as,l=void 0===t?"label":t,n=e.bsPrefix,m=e.column,d=e.srOnly,u=e.className,b=e.htmlFor,f=Object(s.a)(e,H),O=Object(i.useContext)(v).controlId;n=Object(p.a)(n,"form-label");var j="col-form-label";"string"===typeof m&&(j=j+" "+j+"-"+m);var h=c()(u,n,d&&"sr-only",m&&j);return b=b||O,m?o.a.createElement(J,Object(r.a)({ref:a,as:"label",className:h,htmlFor:b},f)):o.a.createElement(l,Object(r.a)({ref:a,className:h,htmlFor:b},f))}));K.displayName="FormLabel",K.defaultProps={column:!1,srOnly:!1};var B=K,Q=["bsPrefix","className","as","muted"],W=o.a.forwardRef((function(e,a){var t=e.bsPrefix,l=e.className,i=e.as,n=void 0===i?"small":i,m=e.muted,d=Object(s.a)(e,Q);return t=Object(p.a)(t,"form-text"),o.a.createElement(n,Object(r.a)({},d,{ref:a,className:c()(l,t,m&&"text-muted")}))}));W.displayName="FormText";var X=W,Y=o.a.forwardRef((function(e,a){return o.a.createElement(w,Object(r.a)({},e,{ref:a,type:"switch"}))}));Y.displayName="Switch",Y.Input=w.Input,Y.Label=w.Label;var Z=Y,$=t(45),ee=["bsPrefix","inline","className","validated","as"],ae=Object($.a)("form-row"),te=o.a.forwardRef((function(e,a){var t=e.bsPrefix,l=e.inline,i=e.className,n=e.validated,m=e.as,d=void 0===m?"form":m,u=Object(s.a)(e,ee);return t=Object(p.a)(t,"form"),o.a.createElement(d,Object(r.a)({},u,{ref:a,className:c()(i,n&&"was-validated",l&&t+"-inline")}))}));te.displayName="Form",te.defaultProps={inline:!1},te.Row=ae,te.Group=A,te.Control=M,te.Check=w,te.File=T,te.Switch=Z,te.Label=B,te.Text=X;a.a=te},288:function(e,a,t){"use strict";t.r(a),t.d(a,"default",(function(){return p}));var r=t(128),s=t(0),l=t.n(s),c=t(6),i=t(44),o=t(138),n=t(126),m=t.n(n),d=t(121),u=t(124);var b=0,f=0,v=1;Object(i.a)();function p(){var e=function(){var e=Object(c.g)().search;return l.a.useMemo((function(){return new URLSearchParams(e)}),[e])}(),a=Object(s.useState)(""),t=Object(r.a)(a,2),i=t[0],n=t[1],p=Object(s.useState)(""),O=Object(r.a)(p,2),j=O[0],h=O[1],N=Object(s.useState)(200),y=Object(r.a)(N,2),x=y[0],g=y[1],E=Object(s.useState)(""),w=Object(r.a)(E,2),P=(w[0],w[1]),C=Object(s.useState)(500),I=Object(r.a)(C,2),F=(I[0],I[1],Object(s.useState)(10)),S=Object(r.a)(F,2),k=(S[0],S[1],Object(s.useState)(10)),_=Object(r.a)(k,2),R=(_[0],_[1],Object(s.useState)(7)),T=Object(r.a)(R,2),V=(T[0],T[1],Object(s.useState)(!0)),L=Object(r.a)(V,2),M=(L[0],L[1],Object(s.useState)("")),G=Object(r.a)(M,2),z=G[0],A=G[1],D=Object(s.useState)(""),U=Object(r.a)(D,2),q=U[0],J=U[1],H=Object(s.useState)("255.255.255.0"),K=Object(r.a)(H,2),B=K[0],Q=K[1],W=Object(s.useState)("114.114.114.114,8.8.8.8"),X=Object(r.a)(W,2),Y=X[0],Z=(X[1],Object(s.useState)(b)),$=Object(r.a)(Z,2),ee=$[0],ae=($[1],Object(s.useState)(f)),te=Object(r.a)(ae,2),re=te[0],se=(te[1],Object(s.useState)("jiulong_scene")),le=Object(r.a)(se,2),ce=le[0],ie=(le[1],Object(s.useState)("")),oe=Object(r.a)(ie,2),ne=oe[0],me=(oe[1],Object(s.useState)("admin")),de=Object(r.a)(me,2),ue=de[0],be=(de[1],Object(s.useState)("admin123")),fe=Object(r.a)(be,2),ve=fe[0],pe=(fe[1],Object(s.useState)("")),Oe=Object(r.a)(pe,2),je=Oe[0],he=(Oe[1],Object(s.useState)("")),Ne=Object(r.a)(he,2),ye=Ne[0],xe=(Ne[1],Object(s.useState)("")),ge=Object(r.a)(xe,2),Ee=ge[0],we=(ge[1],Object(s.useState)("")),Pe=Object(r.a)(we,2),Ce=Pe[0],Ie=(Pe[1],Object(s.useState)("")),Fe=Object(r.a)(Ie,2),Se=Fe[0],ke=Fe[1];return Object(s.useEffect)((function(){m.a.init(),setTimeout((function(){h(e.get("id")),g(e.get("gateway_id")),P(e.get("name")),n("jiulong_data_platform_"+Object(u.a)())}),500)})),l.a.createElement("div",null,l.a.createElement("div",{className:"page-header"},l.a.createElement("h3",{className:"page-title"},"\u9ad8\u7ea7\u914d\u7f6e")),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-6 grid-margin stretch-card"},l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-body"},l.a.createElement("h4",{className:"card-title"},l.a.createElement("i",{className:"mdi mdi-ethernet"}),"\u7f51\u5173\u8bbe\u7f6e"),l.a.createElement("form",{className:"forms-sample"},l.a.createElement(o.a.Group,{className:"row"},l.a.createElement("label",{htmlFor:"hostIP",className:"col-sm-3 col-form-label"},"\u7f51\u5173Mesh\u540d"),l.a.createElement("div",{className:"col-sm-9"},l.a.createElement(o.a.Control,{type:"text",className:"form-control",id:"hostIP",placeholder:"\u7f51\u5173Mesh\u540d, \u5982\uff1a TKT_MESH",value:z,onChange:function(e){A(e.target.value)}}))),l.a.createElement(o.a.Group,{className:"row"},l.a.createElement("label",{htmlFor:"defaultGateway",className:"col-sm-3 col-form-label"},"\u7f51\u5173Mesh\u5bc6\u7801"),l.a.createElement("div",{className:"col-sm-9"},l.a.createElement(o.a.Control,{type:"text",className:"form-control",id:"defaultGateway",placeholder:"\u7f51\u5173\u5bc6\u7801(4\u4f4d),  \u5982\uff1a 1qaz",value:q,onChange:function(e){J(e.target.value)}}))),l.a.createElement(o.a.Group,{className:"row"},l.a.createElement("label",{htmlFor:"gatewayId",className:"col-sm-3 col-form-label"},"\u7f51\u5173ID"),l.a.createElement("div",{className:"col-sm-9"},l.a.createElement(o.a.Control,{type:"text",className:"form-control",id:"gatewayId",placeholder:"\u7f51\u5173ID, 0~255\u4e4b\u95f4\u7684\u6570\u503c",value:x,onChange:function(e){Q(e.target.value)}}))),l.a.createElement("button",{type:"button",className:"btn btn-gradient-primary mr-2",onClick:function(){if(""!==z&&""!==q){var e={user_id:i,gateway_id:x,cmd:"set",category:"network",params:{method:"static",ip:z,mask:B,gateway:q,dns:Y}};console.log("Trying to save network settings: ",e),d.a.post("/v1/scenes/".concat(j),e).then((function(e){console.log(e);var a=e.data;0===a.state?alert("\u8bbe\u7f6e\u7f51\u7edc\u6210\u529f"):alert("\u8bbe\u7f6e\u7f51\u7edc\u5931\u8d25: "+a.message)})).catch((function(e){alert("\u8bbe\u7f6e\u7f51\u7edc\u5931\u8d25: "+e.message)}))}else alert("\u8bf7\u8f93\u5165\u8981\u914d\u7684IP\u548c\u7f51\u5173\uff01")}},"\u786e\u5b9a"))))),l.a.createElement("div",{className:"col-md-6 grid-margin stretch-card"},l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-body"},l.a.createElement("h4",{className:"card-title"},l.a.createElement("i",{className:"mdi mdi-video"}),"\u6267\u884cMesh\u547d\u4ee4"),l.a.createElement("p",{className:"card-description"},"\u6ce8\uff1a \u8f93\u5165\u6846\u4e2d\u8f93\u5165Mesh\u547d\u4ee4, \u70b9\u51fb\u786e\u8ba4\u53d1\u9001\u547d\u4ee4\u6267\u884c\uff0c \u6267\u884c\u7ed3\u679c\u5c06\u4e8e\u4e0b\u9762\u65b9\u6846\u533a\u663e\u793a"),l.a.createElement(o.a.Group,{className:"row"},l.a.createElement("textarea",{cols:"90",placeholder:'\u547d\u4ee4, \u5982\uff1a{"command":"get_port_name_to_mesh_name_mapping","topic":"request"}',value:Se,maxLength:"420",id:"cmdResult",className:"col-sm-12",onChange:function(e){ke(e.target.value)},style:{border:"dashed 1px #CFCFCF",resize:"both",height:"145px",width:"100%"}})),l.a.createElement("button",{type:"button",className:"btn btn-gradient-primary mr-2",onClick:function(){if(ee===b){if(""===ce||""===je)return void alert("\u8bf7\u8f93\u5165\u901a\u9053ID\u524d\u7f00\u548c\u901a\u9053\u53f7\uff01");if(""===ue||""===ve)return void alert("\u8bf7\u8f93\u5165\u5f55\u50cf\u673a\u7528\u6237\u540d\u548c\u5bc6\u7801\uff01");if(""===ne)return void alert("\u8bf7\u8f93\u5165\u5f55\u50cf\u673aIP\uff01")}else{if(""===ye)return void alert("\u8bf7\u8f93\u5165\u6444\u50cf\u5934IP\uff01");if(""===Ee||""===Ce)return void alert("\u8bf7\u8f93\u5165\u6444\u50cf\u5934\u7528\u6237\u540d\u548c\u5bc6\u7801\uff01")}var e,a,t={user_id:i,gateway_id:x,cmd:"set",category:"video",params:{rtsp_src:(a=ee,a===b?"recorder":a===b?"camera":""),vendor:(e=re,e===f?"hkvision":e===v?"dahua":""),id_prefix:ce,recorder_ip:ne,camera_ip:ye,user_name:ee===b?ue:Ee,password:ee===b?ve:Ce,channels:ee===b?je:""}};console.log("Trying to save video settings: ",t),d.a.post("/v1/scenes/".concat(j),t).then((function(e){console.log(e);var a=e.data;0===a.state?alert("\u6dfb\u52a0\u89c6\u9891\u901a\u9053\u6210\u529f"):alert("\u6dfb\u52a0\u89c6\u9891\u901a\u9053\u5931\u8d25: "+a.message)})).catch((function(e){alert("\u6dfb\u52a0\u89c6\u9891\u901a\u9053\u5931\u8d25: "+e.message)}))}},"\u6267\u884c"),l.a.createElement(o.a.Group,{className:"row"},l.a.createElement("div",{className:"col-sm-12 mt-4",style:{border:"dashed 1px #CFCFCF",resize:"both",height:"145px"}})))))))}}}]);
//# sourceMappingURL=5.c85967bb.chunk.js.map